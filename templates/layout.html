<!DOCTYPE html>

<script>
    // Open sidebar found when logged in:
    function Nav() {
        if (document.getElementById("mySidebar").style.display === "none") {
            document.getElementById("mySidebar").style.display = "block";
        }
        else {
            document.getElementById("mySidebar").style.display = "none";
        }
    }

    // Open following list in profile
    function following() {
        if (document.getElementById('followslist').style.display === "block") {
            document.getElementById('followslist').style.display = "none";
        }
        else {
            document.getElementById('followerlist').style.display = "none";
            document.getElementById('followslist').style.display = "block";
        }
    }
    // Open follower list in profile
    function followers() {
        if (document.getElementById('followerlist').style.display === "block") {
            document.getElementById('followerlist').style.display = "none";
        }
        else {
            document.getElementById('followslist').style.display = "none";
            document.getElementById('followerlist').style.display = "block";
        }
    }

</script>

<html lang="en">

    <head>

        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, width=device-width">

        <!-- http://getbootstrap.com/docs/4.5/ -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

        <link href="/static/cloudicon.png" rel="icon">
        <link href="/static/styles.css" rel="stylesheet">

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

        <!-- Title -->
        <title>Journal Express{% block title %}{% endblock %}</title>

    </head>

    <body style="background-image: url('static/background.jpg'); background-repeat: repeat-y">
        <!-- Top header and buttons -->
        <div class="header">
            {% if session.user_id %} <!-- Once logged in: -->
                <button class="headerbuttons" style="left:20px" onclick="Nav()">&#9776;</button>
                <h1 id="name"><a style="text-decoration:none; color:black" href="/"><b>Journal Express</b></a></h1>
                <button class="headerbuttons"><a class="nav-link" style="text-decoration:none; color:black" href="/explore">Explore</a></button>
                <button class="headerbuttons"><a class="nav-link" style="text-decoration:none; color:black" href="/journal">+</a></button>
                <button class="headerbuttons"><a class="nav-link" style="text-decoration:none" href="/search">&#128269;</a></button>

            {% else %} <!-- If logged out: -->
                <h1 id="name"><a style="text-decoration:none; color:black" href="/"><b>Journal Express</b></a></h1>
                <button class="headerbuttons"><a class="nav-link" style="text-decoration:none; color:black" href="/register">Register</a></button>
                <button class="headerbuttons"><a class="nav-link" style="text-decoration:none; color:black" href="/login">Login</a></button>
            {% endif %}
        </div>

        <!-- Additional features/pages --> <!-- Sidebar -->
        <div id="mySidebar" class="sidebar">
            <p><a class="sidebtn" href="/">Feed</a></p>
            <p><a class="sidebtn" name="profile" href="/profile">Profile</a></p>
            <p><a class="sidebtn" href="/settings">Settings</a></p>
            <p><a class="sidebtn" href="/logout">Log out</a></p>

        </div>

        <main class="container p-5">
            {% block main %}{% endblock %}
        </main>

        <!-- Additional script/carries function for FAQ accordion -->
        <script>
            var acc = document.getElementsByClassName("accordion");
            var i;

            for (i = 0; i < acc.length; i++) {
                acc[i].addEventListener("click", function() {
                    this.classList.toggle("active");
                    var panel = this.nextElementSibling;
                    if (panel.style.maxHeight) {
                        panel.style.maxHeight = null;
                    } else {
                        panel.style.maxHeight = panel.scrollHeight + "px";
                    }
                });
            }
        </script>

    </body>

</html>